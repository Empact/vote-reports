Welcome to VoteReports
======================

letsvotefor
letsvotesmart
youreontheballot
voteforwhatmatters
areyouontheballot

interest_groups/republican-liberty-caucus has several repeated reports on vote smart.  Time to clean up their data!

time rake vlad:invoke COMMAND="cd /var/www/votereports/production/current && RAILS_ENV=production /usr/bin/env nice -n 3 rake vote_smart:import"

# AssociateLocationsToZipCodes.migrate(:down)
ENV['VERSION'] = '20100409185819'
Rake::Task['db:migrate:down'].invoke

# CreateLocationZipCodes.migrate(:down)
ENV['VERSION'] = '20100406060108'
Rake::Task['db:migrate:down'].invoke

# CreateZipCodes.migrate(:down)
ENV['VERSION'] = '20100408055427'
Rake::Task['db:migrate:down'].invoke

# PopulateZipCodes.migrate(:down)
ENV['VERSION'] = '20100409174738'
Rake::Task['db:migrate:down'].invoke

# CreateLocationZipCodes.migrate(:up)
ENV['VERSION'] = '20100406060108'
Rake::Task['db:migrate:up'].invoke

Rake::Task['zip_codes:download'].invoke
Rake::Task['zip_codes:import'].invoke

# CreateZipCodes.migrate(:up)
ENV['VERSION'] = '20100408055427'
Rake::Task['db:migrate:up'].invoke

# PopulateZipCodes.migrate(:up)
ENV['VERSION'] = '20100409174738'
Rake::Task['db:migrate:up'].invoke

# AssociateLocationsToZipCodes.migrate(:up)
ENV['VERSION'] = '20100409185819'
Rake::Task['db:migrate:up'].invoke


To inform. To promote truth. To combat political apathy.

Extract State class for associating terms and such
script/generate rspec_model BillRelation from_id:integer to_id:integer relation:string
Missing data model: related bills, actions, status
Bill subcommittee references often don't exist: e.g. Bill 106-s68 listed committee 'International Security, Proliferation and Federal Services' via <committee name="Senate Governmental Affairs" subcommittee="International Security, Proliferation and Federal Services" activity="Referral"/> which wasn't found
Constrain Roll#roll_type to not-blank (deal with: 103/rolls/h1994-68.xml)
BillType is dangerous in that you must call #to_s to get the expected view string
Push back sunspot retry logic to github: /opt/local/lib/ruby/gems/1.8/gems/rsolr-0.11.0/lib/rsolr/connection/net_http.rb:31:in `request'
/opt/local/lib/ruby/gems/1.8/gems/sunspot_rails-0.11.4/lib/sunspot/rails/searchable.rb:200:in `reindex'
Should use offset:
/opt/local/lib/ruby/gems/1.8/gems/sunspot_rails-0.11.4/lib/sunspot/rails/searchable.rb:200:in `reindex'
Add ability to report a report (for misuse)

Full Bill Import:
real	189m20.792s
user	60m35.305s
sys	3m16.466s

Full Amendment Import:
real	3m45.767s
user	2m41.690s
sys	0m9.823s

Full Vote Import:
real	30m32.227s
user	14m5.166s
sys	0m31.824s

http://localhost:3000/politicians/charles-stewart, --1, --2

http://action.aclu.org/site/PageServer?pagename=AP_alerts_all
https://secure.aclu.org/site/Advocacy?pagename=homepage&id=1859&page=UserAction&JServSessionIdr004=zpb6hftvy1.app226a
* [H.R. 4472, the Children's Safety and Violent Crime Reduction Act of 2005](http://votereports.org/bills/109-h4472) - [Oppose](http://www.aclu.org/racial-justice_prisoners-rights_drug-law-reform_immigrants-rights/aclu-letter-house-representatives-1) (unvoted)
* [H.R. 4545, the Drug Sentencing Reform and Cocaine Kingpin Trafficking Act of 2007](http://votereports.org/bills/110-h4545) - [Support](http://www.aclu.org/racial-justice_prisoners-rights_drug-law-reform_immigrants-rights/aclu-letter-house-members-urging-s) (unvoted)
* [S 557 Civil Rights Tax Relief Act](http://votereports.org/bills/108-s557) - [Support](http://www.aclu.org/racial-justice_womens-rights/aclu-letter-senate-urging-support-s-557-civil-rights-tax-relief-act) (unvoted)
* [H.R. 1155, the Civil Rights Tax Relief Act](http://votereports.org/bills/108-h1155) - [Support](http://www.aclu.org/racial-justice_womens-rights/aclu-letter-house-urging-support-hr-1155-civil-rights-tax-relief-act) (unvoted)

>> Roll.all(:conditions => {:roll_type => ''})
=> [#<Roll id: 963, where: "house", voted_at: "1994-03-18 00:12:00", aye: 175, nay: 240, not_voting: 18, present: 0, result: "Failed", required: "1/2", question: ": S 636", roll_type: "", gov_track_id: "h1994-68", subject_id: 29701, congress_id: 2, created_at: "2010-01-09 04:10:13", updated_at: "2010-01-09 04:10:13", subject_type: "Bill">]
>> exit
[~/Projects/vote-reports (gov_track_votes)âš¡] $ sc
Loading development environment (Rails 2.3.5)
WARNING: Nokogiri was built against LibXML version 2.7.5, but has dynamically loaded 2.7.6
** Erubis 2.6.5
>> Roll.all(:conditions => {:roll_type => ''}).congress
NoMethodError: undefined method `congress' for #<Array:0x103110360>
	from (irb):1
>> Roll.all(:conditions => {:roll_type => ''}).first.congress
=> #<Congress id: 2, meeting: 103>
