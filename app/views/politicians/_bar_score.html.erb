<%= render 'politicians/score', :score => score %>

<div id="<%= dom_id(score) %>"></div>


<% javascript_tag do %>
  var chart = new Highcharts.Chart({
     chart: {
        renderTo: '<%= dom_id(score) %>',
        defaultSeriesType: 'bar',
        height: '150',
        width: '600',
        margin: [10, 10, 30, 10]
     },
     title: false,
     xAxis: {
        title: {
           text: null
        }
     },
     yAxis: {
        min: 0,
        max: 100,
        title: false
     },
     tooltip: {
        formatter: function() {
           return this.y + '%';
        }
     },
     plotOptions: {
        bar: {
          groupPadding: 0,
          pointPadding: 0,
          dataLabels: {
            enabled: true,
            color: 'auto'
          }
        }
     },
     legend: false,
     credits: {
        enabled: false
     },
      series: [{
        data: [<%= score.score.round %>]
     }]
  });
<% end %>