<h2><%= bill_title(@bill) %></h2>

<ul>
  <li><%= link_to 'View on OpenCongress', @bill.opencongress_url %></li>
  <li><%= link_to 'View Summary', '#', :'data-dialog' => '#bill_summary', :'data-dialog-title' => bill_title(@bill) %></li>
</ul>

<div id="bill_summary" class="hidden">
  <%= to_html(@bill.summary) %>
</div>

<p>Introduced on <%= @bill.introduced_on.to_s(:long_ordinal) %>
<%- if @bill.sponsor -%>
  by <%= render @bill.sponsor %>
<%- end -%>
</p>

<%- if (amendments = @bill.amendments).present? -%>
<h3>Amendments</h3>
<ul>
  <% amendments.each do |amendment|  %>
    <li><%= render amendment %></li>
  <% end %>
</ul>
<%- end -%>

<%- if (rolls = @bill.rolls).present? -%>
<h3>Votes</h3>
<ul>
  <% rolls.each do |roll|  %>
    <li><%= render roll %></li>
  <% end %>
</ul>
<%- end -%>

<h3>Supporting Politicians</h3>
<%- if (supporting = @bill.politicians.supporting).present? -%>
<ul>
  <% supporting.each do |politician|  %>
    <li><%= link_to politician.full_name, politician%></li>
  <% end %>
</ul>
<%- else -%>
  <p>We have no record of support for this bill</p>
<%- end -%>

<h3>Opposing Politicians</h3>
<%- if (opposing = @bill.politicians.opposing).present? -%>
<ul>
  <% opposing.each do |politician| %>
    <li><%= link_to politician.full_name, politician%></li>
  <% end %>
</ul>
<%- else -%>
  <p>We have no record of opposition for this bill</p>
<%- end -%>
